import{u as U,r as l,s as c,j as e}from"./index-DC7Rq-5w.js";import{G as H}from"./GameNavigation-B9C5t8RG.js";const Z=({setPage:D,gamesList:P,currentGame:R})=>{const{difficulty:_}=U(),m=30,n=30,S=[{x:15,y:15}],y={x:1,y:0},k=()=>({easy:200,normal:150,hard:100})[_]||150,[b,I]=l.useState(S),[u,F]=l.useState({x:15,y:15}),[K,x]=l.useState(y),[h,j]=l.useState(!1),[i,g]=l.useState(!1),[f,C]=l.useState(0),[A,E]=l.useState(0),[w,L]=l.useState(k),[p,N]=l.useState(!1),r=l.useRef(y),v=l.useCallback(()=>{const t={x:Math.floor(Math.random()*m),y:Math.floor(Math.random()*m)};F(t)},[]),O=()=>{I(S),x(y),r.current=y,j(!1),g(!1),C(0),L(k()),N(!1),v()},G=l.useCallback(()=>{h||p||!i||I(t=>{const s=t[0],a={x:s.x+r.current.x,y:s.y+r.current.y};if(a.x<0||a.x>=m||a.y<0||a.y>=m)return j(!0),E(d=>Math.max(d,f)),c.playLose(),t;if(t.some(d=>d.x===a.x&&d.y===a.y))return j(!0),E(d=>Math.max(d,f)),c.playLose(),t;const o=[a,...t];return a.x===u.x&&a.y===u.y?(c.playEat(),C(d=>{const M=d+10;return M%50===0&&(L(T=>Math.max(50,T-20)),c.playPowerUp()),M}),v(),o):(o.pop(),o)})},[h,p,i,u,v,f]);return l.useEffect(()=>{const t=s=>{if(!i&&!h&&(s.key===" "||s.key.startsWith("Arrow"))){s.preventDefault(),g(!0),c.playClick();return}if(h)return;const a=s.key,o=r.current;a==="ArrowUp"&&o.y===0?(r.current={x:0,y:-1},x({x:0,y:-1}),c.playClick()):a==="ArrowDown"&&o.y===0?(r.current={x:0,y:1},x({x:0,y:1}),c.playClick()):a==="ArrowLeft"&&o.x===0?(r.current={x:-1,y:0},x({x:-1,y:0}),c.playClick()):a==="ArrowRight"&&o.x===0?(r.current={x:1,y:0},x({x:1,y:0}),c.playClick()):a===" "&&(s.preventDefault(),N(d=>!d),c.playClick())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[h,i]),l.useEffect(()=>{const t=setInterval(G,w);return()=>clearInterval(t)},[G,w]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-green-900 to-gray-900 py-8 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx(H,{currentGame:R,setPage:D,gamesList:P}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("h2",{className:"text-4xl font-bold text-white mb-2 flex items-center justify-center gap-3",children:["üêç ",e.jsx("span",{className:"bg-gradient-to-r from-green-400 to-emerald-500 bg-clip-text text-transparent",children:"Snake Game"})]}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Use Arrow Keys to move | Space to Pause"}),e.jsxs("div",{className:"flex items-center justify-center gap-8 mb-2",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["Score: ",f]}),e.jsxs("div",{className:"text-xl font-semibold text-yellow-400",children:["üèÜ Best: ",A]}),e.jsxs("div",{className:"text-lg text-gray-400",children:["Speed: ",Math.round((150-w)/10)+1,"x"]})]}),e.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[e.jsxs("span",{className:"px-3 py-1 bg-green-500/20 border border-green-500 rounded-full text-green-400 text-sm",children:["Length: ",b.length]}),p&&e.jsx("span",{className:"px-3 py-1 bg-yellow-500/20 border border-yellow-500 rounded-full text-yellow-400 text-sm animate-pulse",children:"‚è∏ PAUSED"}),!i&&!h&&e.jsx("span",{className:"px-3 py-1 bg-blue-500/20 border border-blue-500 rounded-full text-blue-400 text-sm animate-pulse",children:"Press any key to start"})]})]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900 to-gray-800 border-4 border-green-500 rounded-xl shadow-2xl overflow-hidden",style:{width:m*n,height:m*n},children:[Array.from({length:m}).map((t,s)=>Array.from({length:m}).map((a,o)=>e.jsx("div",{className:"absolute border border-gray-800/30",style:{left:o*n,top:s*n,width:n,height:n}},`${o}-${s}`))),b.map((t,s)=>e.jsx("div",{className:`absolute rounded-sm transition-all duration-75 ${s===0?"bg-gradient-to-br from-green-400 to-green-500 shadow-lg shadow-green-500/50":"bg-gradient-to-br from-green-500 to-green-600"}`,style:{left:t.x*n,top:t.y*n,width:n-2,height:n-2,zIndex:b.length-s},children:s===0&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})})},s)),e.jsx("div",{className:"absolute rounded-full bg-gradient-to-br from-red-400 to-red-600 shadow-lg shadow-red-500/50 animate-pulse",style:{left:u.x*n+1,top:u.y*n+1,width:n-4,height:n-4},children:e.jsx("div",{className:"absolute inset-0 rounded-full bg-white/30 animate-ping"})})]})}),e.jsx("div",{className:"flex justify-center mb-6 md:hidden",children:e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("div",{}),e.jsx("button",{onClick:()=>{i||g(!0),r.current.y===0&&(r.current={x:0,y:-1},x({x:0,y:-1}))},className:"bg-gradient-to-br from-gray-700 to-gray-800 text-white p-5 rounded-xl active:scale-95 transition-transform shadow-lg border border-green-500/30 hover:border-green-500",children:e.jsx("span",{className:"text-2xl",children:"‚¨ÜÔ∏è"})}),e.jsx("div",{}),e.jsx("button",{onClick:()=>{i||g(!0),r.current.x===0&&(r.current={x:-1,y:0},x({x:-1,y:0}))},className:"bg-gradient-to-br from-gray-700 to-gray-800 text-white p-5 rounded-xl active:scale-95 transition-transform shadow-lg border border-green-500/30 hover:border-green-500",children:e.jsx("span",{className:"text-2xl",children:"‚¨ÖÔ∏è"})}),e.jsx("button",{onClick:()=>{i&&N(t=>!t)},className:"bg-gradient-to-br from-yellow-600 to-yellow-700 text-white p-5 rounded-xl active:scale-95 transition-transform shadow-lg border border-yellow-400/30",children:e.jsx("span",{className:"text-2xl",children:p?"‚ñ∂Ô∏è":"‚è∏Ô∏è"})}),e.jsx("button",{onClick:()=>{i||g(!0),r.current.x===0&&(r.current={x:1,y:0},x({x:1,y:0}))},className:"bg-gradient-to-br from-gray-700 to-gray-800 text-white p-5 rounded-xl active:scale-95 transition-transform shadow-lg border border-green-500/30 hover:border-green-500",children:e.jsx("span",{className:"text-2xl",children:"‚û°Ô∏è"})}),e.jsx("div",{}),e.jsx("button",{onClick:()=>{i||g(!0),r.current.y===0&&(r.current={x:0,y:1},x({x:0,y:1}))},className:"bg-gradient-to-br from-gray-700 to-gray-800 text-white p-5 rounded-xl active:scale-95 transition-transform shadow-lg border border-green-500/30 hover:border-green-500",children:e.jsx("span",{className:"text-2xl",children:"‚¨áÔ∏è"})})]})}),h&&e.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50 animate-fadeIn",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-3xl p-8 max-w-md mx-4 border-4 border-red-500 shadow-2xl shadow-red-500/50 transform animate-scaleIn",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"üíÄ"}),e.jsx("h3",{className:"text-4xl font-bold text-white mb-2",children:"Game Over!"}),e.jsx("p",{className:"text-gray-400",children:"The snake bit itself!"})]}),e.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-6 mb-6 border border-green-500/30",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("span",{className:"text-gray-400",children:"Final Score"}),e.jsx("span",{className:"text-3xl font-bold text-green-400",children:f})]}),e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("span",{className:"text-gray-400",children:"Snake Length"}),e.jsx("span",{className:"text-2xl font-semibold text-emerald-400",children:b.length})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"High Score"}),e.jsxs("span",{className:"text-2xl font-bold text-yellow-400",children:["üèÜ ",A]})]})]}),e.jsx("button",{onClick:O,className:"w-full py-4 px-6 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold rounded-xl hover:scale-105 transition-all duration-300 shadow-lg shadow-green-500/50 text-lg",children:"üîÑ Play Again"})]})})]})})};export{Z as default};
