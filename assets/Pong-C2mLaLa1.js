import{u as q,r as a,j as e,s as f}from"./index-ho6SiEif.js";import{G as K}from"./GameNavigation-B6n2Z4z6.js";const Z=({setPage:Y,gamesList:_,currentGame:B})=>{const{difficulty:F}=q(),n=1e3,l=700,o=15,i=130,c=16,D=()=>{switch(F){case"easy":return{ballSpeed:2,aiSpeed:3.5,paddleSpeed:8};case"normal":return{ballSpeed:2.5,aiSpeed:4.5,paddleSpeed:7};case"hard":return{ballSpeed:3.5,aiSpeed:5.5,paddleSpeed:6};case"expert":return{ballSpeed:4.5,aiSpeed:7,paddleSpeed:5};default:return{ballSpeed:2.5,aiSpeed:4.5,paddleSpeed:7}}},G=a.useRef(null),[m,H]=a.useState(l/2-i/2),[u,I]=a.useState(l/2-i/2),[P,M]=a.useState({x:n/2,y:l/2}),[h,C]=a.useState({x:2.5,y:2.5}),[w,T]=a.useState(0),[j,W]=a.useState(0),[g,V]=a.useState(!1),[N,L]=a.useState(!1),[O,k]=a.useState(null),v=a.useRef(null),p=a.useRef({}),R=5,E=()=>{const d=D();M({x:n/2,y:l/2}),C({x:(Math.random()>.5?1:-1)*d.ballSpeed,y:(Math.random()-.5)*4})},U=()=>{T(0),W(0),L(!1),V(!1),k(null),E()};return a.useEffect(()=>{const d=s=>{p.current[s.key]=!0,!g&&(s.key===" "||s.key==="Enter")&&(s.preventDefault(),V(!0))},t=s=>{p.current[s.key]=!1};return window.addEventListener("keydown",d),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",d),window.removeEventListener("keyup",t)}},[g]),a.useEffect(()=>{if(!g||N)return;const d=()=>{const t=D();p.current.w&&H(s=>Math.max(0,s-t.paddleSpeed)),p.current.s&&H(s=>Math.min(l-i,s+t.paddleSpeed)),p.current.ArrowUp&&I(s=>Math.max(0,s-t.paddleSpeed)),p.current.ArrowDown&&I(s=>Math.min(l-i,s+t.paddleSpeed)),M(s=>{let x=s.x+h.x,r=s.y+h.y,y=h.x,b=h.y;return(r<=0||r>=l-c)&&(b=-b,r=r<=0?0:l-c,f.playHit()),x<=o&&r+c>=m&&r<=m+i&&(y=Math.abs(y)*1.05,b+=(r-(m+i/2))*.1,x=o,f.playHit()),x>=n-o-c&&r+c>=u&&r<=u+i&&(y=-Math.abs(y)*1.05,b+=(r-(u+i/2))*.1,x=n-o-c,f.playHit()),x<0?(f.playCoin(),W(A=>{const S=A+1;return S>=R&&(k("Right"),L(!0),f.playWin()),S}),E(),{x:n/2,y:l/2}):x>n?(f.playCoin(),T(A=>{const S=A+1;return S>=R&&(k("Left"),L(!0),f.playWin()),S}),E(),{x:n/2,y:l/2}):(C({x:y,y:b}),{x,y:r})}),v.current=requestAnimationFrame(d)};return v.current=requestAnimationFrame(d),()=>{v.current&&cancelAnimationFrame(v.current)}},[g,N,m,u,h,F]),a.useEffect(()=>{const d=G.current;if(!d)return;const t=d.getContext("2d");t.fillStyle="#000",t.fillRect(0,0,n,l),t.strokeStyle="#444",t.setLineDash([10,10]),t.beginPath(),t.moveTo(n/2,0),t.lineTo(n/2,l),t.stroke(),t.setLineDash([]),t.fillStyle="#00FF00",t.fillRect(0,m,o,i),t.fillStyle="#FF00FF",t.fillRect(n-o,u,o,i),t.fillStyle="#FFF",t.fillRect(P.x,P.y,c,c),t.font="48px Inter",t.fillStyle="#333",t.textAlign="center",t.fillText(w,n/4,60),t.fillText(j,n/4*3,60)},[m,u,P,w,j]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-indigo-900 to-gray-900 py-8 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx(K,{currentGame:B,setPage:Y,gamesList:_}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("h2",{className:"text-4xl font-bold text-white mb-2 flex items-center justify-center gap-3",children:["üèì ",e.jsx("span",{className:"bg-gradient-to-r from-indigo-400 to-purple-500 bg-clip-text text-transparent",children:"Pong"})]}),e.jsxs("p",{className:"text-gray-300 mb-4",children:["W/S: Left Paddle | ‚Üë/‚Üì: Right Paddle | First to ",R," wins!"]}),e.jsxs("div",{className:"flex items-center justify-center gap-8",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-400",children:["Left: ",w]}),e.jsxs("div",{className:"text-3xl font-bold text-fuchsia-400",children:["Right: ",j]})]})]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("canvas",{ref:G,width:n,height:l,className:"border-4 border-indigo-500 rounded-xl shadow-2xl shadow-indigo-500/30 bg-black"}),!g&&!N&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/70 backdrop-blur-sm rounded-xl",children:e.jsxs("div",{className:"text-center text-white animate-slideUp",children:[e.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"üèì"}),e.jsx("p",{className:"text-2xl font-bold mb-2",children:"Press Space to Start!"}),e.jsx("p",{className:"text-lg text-gray-300",children:"2 Player Game"})]})})]})}),N&&e.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50 animate-fadeIn",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-3xl p-8 max-w-md mx-4 border-4 border-indigo-500 shadow-2xl shadow-indigo-500/50 transform animate-scaleIn",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üèÜ"}),e.jsxs("h3",{className:"text-4xl font-bold text-white mb-2",children:[O," Player Wins!"]}),e.jsx("p",{className:"text-gray-400",children:"Congratulations!"})]}),e.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-6 mb-6 border border-indigo-500/30",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("span",{className:"text-green-400",children:"Left Player"}),e.jsx("span",{className:"text-3xl font-bold text-white",children:w})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-fuchsia-400",children:"Right Player"}),e.jsx("span",{className:"text-3xl font-bold text-white",children:j})]})]}),e.jsx("button",{onClick:U,className:"w-full py-4 px-6 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-bold rounded-xl hover:scale-105 transition-all duration-300 shadow-lg shadow-indigo-500/50 text-lg",children:"üîÑ Play Again"})]})})]})})};export{Z as default};
